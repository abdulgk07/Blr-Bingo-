(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>l});var r=s(5155),a=s(2115),n=s(4253),i=s(2085),d=s(9434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,r.jsx)(u,{className:(0,d.cn)(l({variant:a,size:i,className:s})),ref:t,...c})});o.displayName="Button"},650:(e,t,s)=>{Promise.resolve().then(s.bind(s,6564))},4477:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return a.findSourceMapURL}});let r=s(3806),a=s(1818),n=s(4979).createServerReference},6104:(e,t,s)=>{"use strict";s.d(t,{db:()=>i});var r=s(3915),a=s(5317);let n=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({projectId:"aic-teamplay-arena",appId:"1:97094489548:web:924ea7d0815e389b8c7969",storageBucket:"aic-teamplay-arena.firebasestorage.app",apiKey:"AIzaSyAa0eh-BoXALIt70qYcX6HmzI38op8uowk",authDomain:"aic-teamplay-arena.firebaseapp.com",messagingSenderId:"97094489548"}),i=(0,a.aU)(n)},6564:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w,dynamic:()=>j});var r=s(5155),a=s(2115),n=s(5695),i=s(285),d=s(6695),l=s(9434);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...a})});o.displayName="Textarea";var c=s(157);let u=(0,c.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var h=s(7724);let m=(0,c.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),p=(0,c.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),x=(0,c.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var f=s(4477);let g=(0,f.createServerReference)("40d928efbcb554ddb854a09536943ddf628e9bb372",f.callServer,void 0,f.findSourceMapURL,"consolidateWishesAndWorries");var y=s(7481),v=s(6104),b=s(5317);let j="force-dynamic";function w(){let e=(0,n.useParams)(),t=(0,n.useSearchParams)(),{toast:s}=(0,y.dj)(),l=e.boardId,c=t.get("userName")||"Anonymous",f=t.get("userTitle")||"Participant",j="true"===t.get("isHost"),[w,N]=(0,a.useState)([]),[A,S]=(0,a.useState)([]),[k,T]=(0,a.useState)(""),[M,I]=(0,a.useState)(""),[C,E]=(0,a.useState)(!1),[_,R]=(0,a.useState)(!1),[W,O]=(0,a.useState)(null),[D,z]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!l)return;let e=(0,b.P)((0,b.rJ)(v.db,"wish-worry-boards",l,"notes"),(0,b.My)("createdAt","desc")),t=(0,b.aQ)(e,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),N(t.filter(e=>"wish"===e.type)),S(t.filter(e=>"worry"===e.type))},e=>{console.error("Error fetching real-time notes:",e),s({title:"Connection Error",description:"Could not sync with the board. Please refresh.",variant:"destructive"})});return()=>t()},[l,s]);let P=()=>({transform:"rotate(".concat(6*Math.random()-3,"deg)")}),B=async e=>{let t="wish"===e?k:M;if(!t.trim())return;"wish"===e?E(!0):R(!0);let r={text:t.trim(),author:c,authorTitle:f,style:P(),type:e,createdAt:b.Dc.now()};try{await (0,b.gS)((0,b.rJ)(v.db,"wish-worry-boards",l,"notes"),r),"wish"===e?T(""):I("")}catch(e){console.error("Error adding note to Firestore:",e),s({title:"Submission Failed",description:"Your note could not be saved. Please try again.",variant:"destructive"})}finally{"wish"===e?E(!1):R(!1)}},F=async()=>{z(!0),O(null);try{let e=w.map(e=>e.text),t=A.map(e=>e.text);if(0===e.length&&0===t.length){s({title:"Board is Empty",description:"Add some wishes or worries before consolidating.",variant:"destructive"}),z(!1);return}let r=await g({wishes:e,worries:t});O(r)}catch(e){console.error("Error consolidating insights:",e),s({title:"AI Analysis Failed",description:"Could not generate insights. Please try again.",variant:"destructive"})}finally{z(!1)}};return(0,r.jsxs)("main",{className:"container mx-auto p-4 sm:p-6 md:p-8 min-h-screen bg-muted/20",children:[(0,r.jsxs)("header",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"font-headline text-4xl sm:text-5xl font-bold text-foreground",children:"AI Wish & Worry Board"}),(0,r.jsxs)("p",{className:"font-body text-muted-foreground mt-2 text-lg",children:["Board ID: ",(0,r.jsx)("span",{className:"font-mono bg-muted p-1 rounded",children:l})]})]}),j&&(0,r.jsx)(d.Zp,{className:"mb-8 shadow-md",children:(0,r.jsxs)(d.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(i.$,{size:"lg",onClick:F,disabled:D,children:D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{className:"mr-2 h-5 w-5 animate-spin"})," Consolidating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"mr-2 h-5 w-5"})," ",W?"Re-Consolidate Insights":"Consolidate &amp; Show Insights"]})}),(0,r.jsx)(d.BT,{className:"mt-2",children:"Click to analyze all entries and reveal themes."})]})}),(D||W)&&(0,r.jsxs)(d.Zp,{className:"mb-8 shadow-md animate-in fade-in",children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsxs)(d.ZB,{className:"flex items-center gap-2 font-headline",children:[(0,r.jsx)(h.A,{})," AI Insights"]}),(0,r.jsx)(d.BT,{children:"Top themes based on the team's input."})]}),(0,r.jsx)(d.Wu,{children:D?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,r.jsx)(u,{className:"w-4 h-4 animate-spin"})," Analyzing..."]}):W&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[W.wishesSummary&&(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 p-2 rounded-md",children:[(0,r.jsx)(m,{className:"w-4 h-4"})," ",(0,r.jsx)("strong",{children:"Wishes:"})," ",W.wishesSummary]}),W.worriesSummary&&(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-red-100 text-red-800 p-2 rounded-md",children:[(0,r.jsx)(p,{className:"w-4 h-4"})," ",(0,r.jsx)("strong",{children:"Worries:"})," ",W.worriesSummary]})]})})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h2",{className:"text-2xl font-headline text-green-600 flex items-center gap-2",children:[(0,r.jsx)(m,{})," My AI Wishes"]}),(0,r.jsx)(d.Zp,{children:(0,r.jsxs)(d.Wu,{className:"p-4 space-y-2",children:[(0,r.jsx)(o,{placeholder:"What are you hopeful about with AI?",value:k,onChange:e=>T(e.target.value),disabled:C}),(0,r.jsx)(i.$,{onClick:()=>B("wish"),disabled:C,className:"w-full bg-green-600 hover:bg-green-700",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{className:"mr-2 h-4 w-4"})," Add Wish"]})})]})}),(0,r.jsx)("div",{className:"space-y-4",children:w.map(e=>(0,r.jsx)(d.Zp,{className:"shadow-sm bg-green-50/50",style:e.style,children:(0,r.jsxs)(d.Wu,{className:"p-4",children:[(0,r.jsx)("p",{className:"text-card-foreground",children:e.text}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-2 text-right",children:["- ",e.author,", ",e.authorTitle]})]})},e.id))})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h2",{className:"text-2xl font-headline text-red-600 flex items-center gap-2",children:[(0,r.jsx)(p,{})," My AI Worries"]}),(0,r.jsx)(d.Zp,{children:(0,r.jsxs)(d.Wu,{className:"p-4 space-y-2",children:[(0,r.jsx)(o,{placeholder:"What are your concerns about AI?",value:M,onChange:e=>I(e.target.value),disabled:_}),(0,r.jsx)(i.$,{onClick:()=>B("worry"),variant:"destructive",disabled:_,className:"w-full",children:_?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{className:"mr-2 h-4 w-4"})," Add Worry"]})})]})}),(0,r.jsx)("div",{className:"space-y-4",children:A.map(e=>(0,r.jsx)(d.Zp,{className:"shadow-sm bg-red-50/50",style:e.style,children:(0,r.jsxs)(d.Wu,{className:"p-4",children:[(0,r.jsx)("p",{className:"text-card-foreground",children:e.text}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-2 text-right",children:["- ",e.author,", ",e.authorTitle]})]})},e.id))})]})]})]})}},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>d});var r=s(5155),a=s(2115),n=s(9434);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});d.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>h});var r=s(2115);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],o={toasts:[]};function c(e){o=d(o,e),l.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=r.useState(o);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7724:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]])},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(2596),a=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,511,181,441,684,358],()=>t(650)),_N_E=e.O()}]);
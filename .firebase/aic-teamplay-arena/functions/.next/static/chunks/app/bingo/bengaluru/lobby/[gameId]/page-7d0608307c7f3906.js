(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,r:()=>d});var r=a(5155),s=a(2115),n=a(4253),i=a(2085),o=a(9434);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:l=!1,...c}=e,u=l?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(d({variant:s,size:i,className:a})),ref:t,...c})});l.displayName="Button"},286:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},636:(e,t,a)=>{Promise.resolve().then(a.bind(a,5005))},5005:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p,dynamic:()=>f});var r=a(5155),s=a(2115),n=a(5695),i=a(285),o=a(6695);let d=(0,a(157).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var l=a(286),c=a(7481),u=a(6104),m=a(5317);let f="force-dynamic";function p(){var e;let t=(0,n.useRouter)(),a=(0,n.useParams)(),f=(0,n.useSearchParams)(),{toast:p}=(0,c.dj)(),g=a.gameId,h=f.get("playerName")||"Guest",x="true"===f.get("isHost"),[y,v]=(0,s.useState)([]),[b,N]=(0,s.useState)("");(0,s.useEffect)(()=>{if(!g)return;let e=(0,m.H9)(u.db,"bingo-games",g),a=(0,m.aQ)(e,e=>{if(e.exists()){let a=e.data();N(a.hostName),"playing"!==a.status||x||t.push("/bingo/bengaluru/play/".concat(g,"?playerName=").concat(h))}});return()=>a()},[g,t,x,h]),(0,s.useEffect)(()=>{if(!g)return;let e=(0,m.rJ)(u.db,"bingo-games",g,"players"),t=(0,m.aQ)(e,e=>{v(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>t()},[g]);let j=async()=>{let e=(0,m.H9)(u.db,"bingo-games",g);try{await (0,m.mZ)(e,{status:"playing"}),t.push("/bingo/bengaluru/play/".concat(g,"?playerName=").concat(h,"&isHost=true"))}catch(e){console.error("Error starting game: ",e),p({title:"Error",description:"Could not start the game. Please try again.",variant:"destructive"})}};return(0,r.jsx)("main",{className:"container mx-auto p-4 flex flex-col items-center justify-center min-h-screen",children:(0,r.jsxs)(o.Zp,{className:"w-full max-w-lg shadow-2xl",children:[(0,r.jsxs)(o.aR,{className:"text-center",children:[(0,r.jsx)(o.ZB,{className:"font-headline text-3xl",children:"Game Lobby"}),(0,r.jsx)(o.BT,{children:"Share the game ID with your friends to let them join!"})]}),(0,r.jsxs)(o.Wu,{className:"text-center space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground font-semibold",children:"Game ID"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-2",children:[(0,r.jsx)("span",{className:"font-mono text-4xl font-bold text-primary tracking-widest bg-muted p-3 rounded-lg",children:g}),(0,r.jsx)(i.$,{variant:"outline",size:"icon",onClick:()=>{"".concat(window.location.origin,"/bingo/bengaluru?join=").concat(g),navigator.clipboard.writeText(g),p({title:"Game ID Copied!",description:"You can share this ID with your friends."})},children:(0,r.jsx)(d,{className:"h-5 w-5"})})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"font-bold text-muted-foreground flex items-center justify-center gap-2",children:[(0,r.jsx)(l.A,{})," Players Joined (",y.length,")"]}),(0,r.jsx)("div",{className:"h-40 overflow-y-auto bg-muted/50 p-3 rounded-md space-y-2",children:y.map(e=>(0,r.jsxs)("div",{className:"bg-card p-2 rounded-md shadow-sm text-left px-4",children:[e.name," ",e.isHost&&(0,r.jsx)("span",{className:"font-bold text-primary",children:" (Host)"})]},e.id))})]}),x?(0,r.jsx)(i.$,{size:"lg",className:"w-full font-headline text-xl",onClick:j,disabled:y.length<2,children:y.length<2?"Waiting for players...":"Start Game for Everyone"}):(0,r.jsxs)("p",{className:"text-muted-foreground animate-pulse",children:["Waiting for ",(null==(e=y.find(e=>e.isHost))?void 0:e.name)||"the host"," to start the game..."]})]})]})})}},6104:(e,t,a)=>{"use strict";a.d(t,{db:()=>i});var r=a(3915),s=a(5317);let n=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({projectId:"aic-teamplay-arena",appId:"1:97094489548:web:924ea7d0815e389b8c7969",storageBucket:"aic-teamplay-arena.firebasestorage.app",apiKey:"AIzaSyAa0eh-BoXALIt70qYcX6HmzI38op8uowk",authDomain:"aic-teamplay-arena.firebaseapp.com",messagingSenderId:"97094489548"}),i=(0,s.aU)(n)},6695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>o});var r=a(5155),s=a(2115),n=a(9434);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var r=a(2115);let s=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=o(l,e),d.forEach(e=>{e(l)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(l);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2596),s=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,511,181,441,684,358],()=>t(636)),_N_E=e.O()}]);
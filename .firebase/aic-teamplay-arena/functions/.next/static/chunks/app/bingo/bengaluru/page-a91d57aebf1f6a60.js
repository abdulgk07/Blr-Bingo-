(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{596:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var s=t(5155),r=t(2115),l=t(285),n=t(6695),c=t(2523),i=t(5695),o=t(8609),d=t(4301),m=t(286),u=t(9259),h=t(4483),x=t(6104),p=t(5317);function g(){let e=(0,i.useRouter)(),[a,t]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),N=async()=>{if(!a.trim())return void b("Please enter your name to create a game.");b("");let t=Math.random().toString(36).substring(2,6).toUpperCase();try{await (0,p.BN)((0,p.H9)(x.db,"bingo-games",t),{hostName:a,status:"lobby",createdAt:new Date}),await (0,p.BN)((0,p.H9)(x.db,"bingo-games",t,"players",a),{name:a,isHost:!0}),e.push("/bingo/bengaluru/lobby/".concat(t,"?playerName=").concat(a,"&isHost=true"))}catch(e){console.error("Error creating game: ",e),b("Could not create the game. Please try again.")}},f=async()=>{if(!a.trim()||!g.trim())return void b("Please enter your name and a game code to join.");b("");let t=(0,p.H9)(x.db,"bingo-games",g.toUpperCase());try{(await (0,p.x7)(t)).exists()?(await (0,p.BN)((0,p.H9)(x.db,"bingo-games",g.toUpperCase(),"players",a),{name:a,isHost:!1}),e.push("/bingo/bengaluru/lobby/".concat(g.toUpperCase(),"?playerName=").concat(a))):b("Game not found. Please check the code and try again.")}catch(e){console.error("Error joining game: ",e),b("Could not join the game. Please try again.")}};return(0,s.jsxs)("main",{className:"container mx-auto p-4 flex flex-col items-center justify-center min-h-screen",children:[(0,s.jsxs)("header",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"inline-block p-4 bg-primary/20 rounded-full mb-4",children:(0,s.jsx)(o.A,{className:"w-16 h-16 text-primary"})}),(0,s.jsx)("h1",{className:"font-headline text-4xl sm:text-5xl md:text-6xl font-bold text-foreground",children:"Bengaluru Bingo"}),(0,s.jsx)("p",{className:"font-body text-muted-foreground mt-2 text-lg",children:"The chaotic Bengaluru experience, now in a game."})]}),(0,s.jsxs)(n.Zp,{className:"w-full max-w-md shadow-lg",children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{className:"font-headline text-2xl text-center",children:"Ready to Play?"}),(0,s.jsx)(n.BT,{className:"text-center",children:"First, tell us your name!"})]}),(0,s.jsxs)(n.Wu,{className:"space-y-4",children:[(0,s.jsx)(c.p,{id:"player-name",placeholder:"Enter your name",value:a,onChange:e=>t(e.target.value),className:"text-center text-lg h-12"}),(0,s.jsxs)(h.tU,{defaultValue:"join",className:"w-full",children:[(0,s.jsxs)(h.j7,{className:"grid w-full grid-cols-2",children:[(0,s.jsxs)(h.Xi,{value:"create",children:[(0,s.jsx)(d.A,{})," Create Game"]}),(0,s.jsxs)(h.Xi,{value:"join",children:[(0,s.jsx)(m.A,{})," Join Game"]})]}),(0,s.jsxs)(h.av,{value:"create",className:"text-center space-y-4 pt-4",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Start a new game and invite your friends!"}),(0,s.jsx)(l.$,{size:"lg",className:"w-full font-headline",onClick:N,children:"Create New Game"})]}),(0,s.jsxs)(h.av,{value:"join",className:"space-y-4 pt-4",children:[(0,s.jsx)(c.p,{id:"game-code",placeholder:"Enter 4-digit game code",value:g,onChange:e=>y(e.target.value.toUpperCase()),className:"text-center",maxLength:4}),(0,s.jsx)(l.$,{size:"lg",className:"w-full font-headline",onClick:f,children:"Join Game"})]})]}),j&&(0,s.jsx)("p",{className:"text-sm font-medium text-destructive text-center",children:j}),(0,s.jsxs)("div",{className:"relative flex py-2 items-center",children:[(0,s.jsx)("div",{className:"flex-grow border-t"}),(0,s.jsx)("span",{className:"flex-shrink mx-4 text-xs text-muted-foreground",children:"FOR TESTING"}),(0,s.jsx)("div",{className:"flex-grow border-t"})]}),(0,s.jsxs)(l.$,{variant:"outline",className:"w-full",onClick:()=>{let t=a.trim()||"Tester";e.push("/bingo/bengaluru/play/".concat("MOCK","?playerName=").concat(t,"&isHost=false"))},children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Run Mock Game (You are Player, System is Host)"]})]})]})]})}},2779:(e,a,t)=>{Promise.resolve().then(t.bind(t,596))},6104:(e,a,t)=>{"use strict";t.d(a,{db:()=>n});var s=t(3915),r=t(5317);let l=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({projectId:"aic-teamplay-arena",appId:"1:97094489548:web:924ea7d0815e389b8c7969",storageBucket:"aic-teamplay-arena.firebasestorage.app",apiKey:"AIzaSyAa0eh-BoXALIt70qYcX6HmzI38op8uowk",authDomain:"aic-teamplay-arena.firebaseapp.com",messagingSenderId:"97094489548"}),n=(0,r.aU)(l)},8609:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(157).A)("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[992,511,181,870,778,441,684,358],()=>a(2779)),_N_E=e.O()}]);